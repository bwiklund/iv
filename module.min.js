(function(){var Module,app,mod;Module=function(){function Module(){this.members={}}Module.prototype.define=function(name,deps,func){return this.members[name]={name:name,deps:deps,provider:func,instance:null}};Module.prototype.resolve=function(name){var args,dep,member;member=this.members[name];if(member.instance==null){args=function(){var _i,_len,_ref,_results;_ref=member.deps;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){dep=_ref[_i];_results.push(this.resolve[dep])}return _results}.call(this);member.instance=member.provider.apply({},args)}return member.instance};return Module}();mod=new Module;mod.define("foo",[],function(){return"bar"});mod.define("main",["foo"],function(foo){return foo});app=mod.resolve("main");console.log(app())}).call(this);