(function(){var n,e;e=function(){function e(){this.members={}}return e.prototype.define=function(n,e,i){e.constructor===Function&&(i=e,e=/\(.*\)/.exec(""+e)[0].slice(1,-1).replace(/\s/g,""),e=0===e.length?[]:e.split(",")),this.members[n]={name:n,deps:e,providerFunc:i,instance:null,startedProviding:!1,finishedProviding:!1}},e.prototype.instance=function(){var e,i,r,t,o,s;e={},s=this.members;for(r in s){t=s[r],e[r]={};for(i in t)o=t[i],e[r][i]=o}return new n(e)},e}(),n=function(){function n(n){this.members=n}return n.prototype.resolve=function(n){var e,i,r;if(r=this.members[n],r.startedProviding&&!r.finishedProviding)throw Error("circular dependency on "+n);return r.startedProviding=!0,r.finishedProviding||(e=function(){var n,e,t,o;for(t=r.deps,o=[],n=0,e=t.length;e>n;n++)i=t[n],o.push(this.resolve(i));return o}.call(this),r.instance=r.providerFunc.apply({},e),r.finishedProviding=!0),r.instance},n}(),"undefined"!=typeof module&&null!==module&&(module.exports=function(){return new e}),"undefined"!=typeof window&&null!==window&&(window.iv=function(){return new e})}).call(this);